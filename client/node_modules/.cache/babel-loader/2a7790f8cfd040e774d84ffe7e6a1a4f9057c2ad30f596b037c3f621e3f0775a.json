{"ast":null,"code":"export const STATUS_CONFIG={stale:{label:'Stale',classes:'border-red-500 bg-red-50',icon:'XCircle'},overdue:{label:'Overdue',classes:'border-yellow-500 bg-yellow-50',icon:'Clock'},noContact:{label:'No Recent Contact',classes:'border-orange-500 bg-orange-50',icon:'AlertCircle'},needsAttention:{label:'Needs Attention',classes:'border-blue-500 bg-blue-50',icon:'Bell'},active:{label:'Active',classes:'border-green-500 bg-white',icon:'CheckCircle'}};export const getClientStatus=client=>{if(!client.isActive)return'stale';if(client.followUpDate&&new Date(client.followUpDate)<new Date())return'overdue';if(!client.lastContact)return'needsAttention';const daysSinceContact=(new Date()-new Date(client.lastContact))/(1000*60*60*24);if(daysSinceContact>30)return'noContact';if(daysSinceContact>15)return'needsAttention';return'active';};export const getDealStatus=deal=>{const stages={prospecting:{label:'Prospecting',color:'text-gray-500'},qualified:{label:'Qualified',color:'text-blue-500'},proposal:{label:'Proposal',color:'text-purple-500'},negotiation:{label:'Negotiation',color:'text-orange-500'},closed_won:{label:'Closed Won',color:'text-green-500'},closed_lost:{label:'Closed Lost',color:'text-red-500'}};return stages[deal.status]||stages.prospecting;};export const calculateMetrics=clients=>{return{totalClients:clients.length,activeClients:clients.filter(c=>c.isActive).length,needsAttention:clients.filter(c=>getClientStatus(c)==='needsAttention').length,totalDeals:clients.reduce((sum,client)=>{var _client$deals;return sum+(((_client$deals=client.deals)===null||_client$deals===void 0?void 0:_client$deals.length)||0);},0),pipeline:clients.reduce((sum,client)=>{var _client$deals2;return sum+(((_client$deals2=client.deals)===null||_client$deals2===void 0?void 0:_client$deals2.reduce((dealSum,deal)=>dealSum+(deal.status!=='closed_lost'?deal.value:0),0))||0);},0)};};","map":{"version":3,"names":["STATUS_CONFIG","stale","label","classes","icon","overdue","noContact","needsAttention","active","getClientStatus","client","isActive","followUpDate","Date","lastContact","daysSinceContact","getDealStatus","deal","stages","prospecting","color","qualified","proposal","negotiation","closed_won","closed_lost","status","calculateMetrics","clients","totalClients","length","activeClients","filter","c","totalDeals","reduce","sum","_client$deals","deals","pipeline","_client$deals2","dealSum","value"],"sources":["C:/Tavant/Tavant/02_Paresh/Fun/SalesSynth/client/src/utils/statusUtils.js"],"sourcesContent":["export const STATUS_CONFIG = {\r\n  stale: { \r\n    label: 'Stale', \r\n    classes: 'border-red-500 bg-red-50',\r\n    icon: 'XCircle'\r\n  },\r\n  overdue: { \r\n    label: 'Overdue', \r\n    classes: 'border-yellow-500 bg-yellow-50',\r\n    icon: 'Clock'\r\n  },\r\n  noContact: { \r\n    label: 'No Recent Contact', \r\n    classes: 'border-orange-500 bg-orange-50',\r\n    icon: 'AlertCircle'\r\n  },\r\n  needsAttention: { \r\n    label: 'Needs Attention', \r\n    classes: 'border-blue-500 bg-blue-50',\r\n    icon: 'Bell'\r\n  },\r\n  active: { \r\n    label: 'Active', \r\n    classes: 'border-green-500 bg-white',\r\n    icon: 'CheckCircle'\r\n  }\r\n};\r\n\r\nexport const getClientStatus = (client) => {\r\n  if (!client.isActive) return 'stale';\r\n  if (client.followUpDate && new Date(client.followUpDate) < new Date()) return 'overdue';\r\n  if (!client.lastContact) return 'needsAttention';\r\n  \r\n  const daysSinceContact = (new Date() - new Date(client.lastContact)) / (1000 * 60 * 60 * 24);\r\n  if (daysSinceContact > 30) return 'noContact';\r\n  if (daysSinceContact > 15) return 'needsAttention';\r\n  return 'active';\r\n};\r\n\r\nexport const getDealStatus = (deal) => {\r\n  const stages = {\r\n    prospecting: { label: 'Prospecting', color: 'text-gray-500' },\r\n    qualified: { label: 'Qualified', color: 'text-blue-500' },\r\n    proposal: { label: 'Proposal', color: 'text-purple-500' },\r\n    negotiation: { label: 'Negotiation', color: 'text-orange-500' },\r\n    closed_won: { label: 'Closed Won', color: 'text-green-500' },\r\n    closed_lost: { label: 'Closed Lost', color: 'text-red-500' }\r\n  };\r\n  return stages[deal.status] || stages.prospecting;\r\n};\r\n\r\nexport const calculateMetrics = (clients) => {\r\n  return {\r\n    totalClients: clients.length,\r\n    activeClients: clients.filter(c => c.isActive).length,\r\n    needsAttention: clients.filter(c => getClientStatus(c) === 'needsAttention').length,\r\n    totalDeals: clients.reduce((sum, client) => sum + (client.deals?.length || 0), 0),\r\n    pipeline: clients.reduce((sum, client) => \r\n      sum + (client.deals?.reduce((dealSum, deal) => \r\n        dealSum + (deal.status !== 'closed_lost' ? deal.value : 0), 0) || 0), 0)\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}