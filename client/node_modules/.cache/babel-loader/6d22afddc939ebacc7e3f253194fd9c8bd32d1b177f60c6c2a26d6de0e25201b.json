{"ast":null,"code":"import React,{useState}from'react';import{X,Plus,Calendar}from'lucide-react';import{useQuery,useMutation,useQueryClient}from'@tanstack/react-query';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';const TaskPanel=_ref=>{let{isOpen=true,onToggle}=_ref;const queryClient=useQueryClient();const[newTask,setNewTask]=useState('');const[dueDate,setDueDate]=useState('');const[showCompleted,setShowCompleted]=useState(false);// Fetch tasks\nconst{data:tasks=[],isLoading}=useQuery({queryKey:['tasks',showCompleted],queryFn:async()=>{const{data}=await axios.get(\"\".concat(API_URL,\"/tasks\"),{params:{completed:showCompleted}});return data;}});// Add task mutation\nconst addTaskMutation=useMutation({mutationFn:newTask=>axios.post(\"\".concat(API_URL,\"/tasks\"),newTask),onSuccess:()=>{queryClient.invalidateQueries(['tasks']);setNewTask('');setDueDate('');}});// Toggle completion mutation\nconst toggleCompletionMutation=useMutation({mutationFn:taskId=>axios.patch(\"\".concat(API_URL,\"/tasks/\").concat(taskId,\"/complete\")),onSuccess:()=>{queryClient.invalidateQueries(['tasks']);}});// Delete task mutation\nconst deleteTaskMutation=useMutation({mutationFn:taskId=>axios.delete(\"\".concat(API_URL,\"/tasks/\").concat(taskId)),onSuccess:()=>{queryClient.invalidateQueries(['tasks']);}});const handleAddTask=e=>{e.preventDefault();if(!newTask.trim())return;addTaskMutation.mutate({title:newTask.trim(),dueDate:dueDate||null,completed:false});};const toggleTaskCompletion=taskId=>{toggleCompletionMutation.mutate(taskId);};const deleteTask=taskId=>{deleteTaskMutation.mutate(taskId);};return/*#__PURE__*/_jsxs(\"div\",{className:\"side-panel side-panel-right \".concat(isOpen?'open':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header bg-white border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Tasks\"}),onToggle&&/*#__PURE__*/_jsx(\"button\",{onClick:onToggle,className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",title:\"Hide Tasks Panel\",children:/*#__PURE__*/_jsx(X,{size:20,className:\"text-gray-500\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-content\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddTask,className:\"add-task-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a new task...\",value:newTask,onChange:e=>setNewTask(e.target.value),className:\"add-task-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:dueDate,onChange:e=>setDueDate(e.target.value),className:\"add-task-input\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-primary flex items-center\",disabled:!newTask.trim()||addTaskMutation.isLoading,children:[/*#__PURE__*/_jsx(Plus,{size:20,className:\"mr-1\"}),\"Add\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700\",children:showCompleted?'All Tasks':'Active Tasks'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCompleted(!showCompleted),className:\"text-sm text-blue-600 hover:text-blue-700\",children:showCompleted?'Hide Completed':'Show Completed'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500\"})}):tasks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"panel-empty-state\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No tasks yet\"})}):tasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"task-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:task.completed,onChange:()=>toggleTaskCompletion(task._id),className:\"task-checkbox\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"task-title \".concat(task.completed?'line-through text-gray-400':''),children:task.title}),task.dueDate&&/*#__PURE__*/_jsxs(\"div\",{className:\"task-due-date flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{size:12,className:\"mr-1\"}),new Date(task.dueDate).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(task._id),className:\"text-gray-400 hover:text-red-500\",children:/*#__PURE__*/_jsx(X,{size:16})})]},task._id))})]})]});};export default TaskPanel;","map":{"version":3,"names":["React","useState","X","Plus","Calendar","useQuery","useMutation","useQueryClient","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","TaskPanel","_ref","isOpen","onToggle","queryClient","newTask","setNewTask","dueDate","setDueDate","showCompleted","setShowCompleted","data","tasks","isLoading","queryKey","queryFn","get","concat","params","completed","addTaskMutation","mutationFn","post","onSuccess","invalidateQueries","toggleCompletionMutation","taskId","patch","deleteTaskMutation","delete","handleAddTask","e","preventDefault","trim","mutate","title","toggleTaskCompletion","deleteTask","className","children","onClick","size","onSubmit","type","placeholder","value","onChange","target","disabled","length","map","task","checked","_id","Date","toLocaleDateString"],"sources":["C:/Tavant/Tavant/02_Paresh/Fun/SalesSynth/client/src/components/TaskPanel.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { X, Plus, Calendar } from 'lucide-react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst TaskPanel = ({ isOpen = true, onToggle }) => {\r\n  const queryClient = useQueryClient();\r\n  const [newTask, setNewTask] = useState('');\r\n  const [dueDate, setDueDate] = useState('');\r\n  const [showCompleted, setShowCompleted] = useState(false);\r\n\r\n  // Fetch tasks\r\n  const { data: tasks = [], isLoading } = useQuery({\r\n    queryKey: ['tasks', showCompleted],\r\n    queryFn: async () => {\r\n      const { data } = await axios.get(`${API_URL}/tasks`, {\r\n        params: { completed: showCompleted }\r\n      });\r\n      return data;\r\n    }\r\n  });\r\n\r\n  // Add task mutation\r\n  const addTaskMutation = useMutation({\r\n    mutationFn: (newTask) => axios.post(`${API_URL}/tasks`, newTask),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['tasks']);\r\n      setNewTask('');\r\n      setDueDate('');\r\n    }\r\n  });\r\n\r\n  // Toggle completion mutation\r\n  const toggleCompletionMutation = useMutation({\r\n    mutationFn: (taskId) => axios.patch(`${API_URL}/tasks/${taskId}/complete`),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['tasks']);\r\n    }\r\n  });\r\n\r\n  // Delete task mutation\r\n  const deleteTaskMutation = useMutation({\r\n    mutationFn: (taskId) => axios.delete(`${API_URL}/tasks/${taskId}`),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['tasks']);\r\n    }\r\n  });\r\n\r\n  const handleAddTask = (e) => {\r\n    e.preventDefault();\r\n    if (!newTask.trim()) return;\r\n\r\n    addTaskMutation.mutate({\r\n      title: newTask.trim(),\r\n      dueDate: dueDate || null,\r\n      completed: false\r\n    });\r\n  };\r\n\r\n  const toggleTaskCompletion = (taskId) => {\r\n    toggleCompletionMutation.mutate(taskId);\r\n  };\r\n\r\n  const deleteTask = (taskId) => {\r\n    deleteTaskMutation.mutate(taskId);\r\n  };\r\n\r\n  return (\r\n    <div className={`side-panel side-panel-right ${isOpen ? 'open' : ''}`}>\r\n      <div className=\"panel-header bg-white border-b\">\r\n        <h2 className=\"text-lg font-semibold\">Tasks</h2>\r\n        {onToggle && (\r\n          <button \r\n            onClick={onToggle}\r\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n            title=\"Hide Tasks Panel\"\r\n          >\r\n            <X size={20} className=\"text-gray-500\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"panel-content\">\r\n        <form onSubmit={handleAddTask} className=\"add-task-form\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Add a new task...\"\r\n            value={newTask}\r\n            onChange={(e) => setNewTask(e.target.value)}\r\n            className=\"add-task-input\"\r\n          />\r\n          <div className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"date\"\r\n              value={dueDate}\r\n              onChange={(e) => setDueDate(e.target.value)}\r\n              className=\"add-task-input\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn-primary flex items-center\"\r\n              disabled={!newTask.trim() || addTaskMutation.isLoading}\r\n            >\r\n              <Plus size={20} className=\"mr-1\" />\r\n              Add\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"mb-4 flex justify-between items-center\">\r\n          <h3 className=\"text-sm font-medium text-gray-700\">\r\n            {showCompleted ? 'All Tasks' : 'Active Tasks'}\r\n          </h3>\r\n          <button\r\n            onClick={() => setShowCompleted(!showCompleted)}\r\n            className=\"text-sm text-blue-600 hover:text-blue-700\"\r\n          >\r\n            {showCompleted ? 'Hide Completed' : 'Show Completed'}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          {isLoading ? (\r\n            <div className=\"flex justify-center py-4\">\r\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500\"></div>\r\n            </div>\r\n          ) : tasks.length === 0 ? (\r\n            <div className=\"panel-empty-state\">\r\n              <p className=\"text-gray-500\">No tasks yet</p>\r\n            </div>\r\n          ) : (\r\n            tasks.map(task => (\r\n              <div key={task._id} className=\"task-item\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={task.completed}\r\n                  onChange={() => toggleTaskCompletion(task._id)}\r\n                  className=\"task-checkbox\"\r\n                />\r\n                <div className=\"task-content\">\r\n                  <p className={`task-title ${task.completed ? 'line-through text-gray-400' : ''}`}>\r\n                    {task.title}\r\n                  </p>\r\n                  {task.dueDate && (\r\n                    <div className=\"task-due-date flex items-center\">\r\n                      <Calendar size={12} className=\"mr-1\" />\r\n                      {new Date(task.dueDate).toLocaleDateString()}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <button\r\n                  onClick={() => deleteTask(task._id)}\r\n                  className=\"text-gray-400 hover:text-red-500\"\r\n                >\r\n                  <X size={16} />\r\n                </button>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}