{"ast":null,"code":"import React from'react';import{Calendar,Phone,Mail,DollarSign,AlertCircle,Bookmark,BookmarkCheck,Edit}from'lucide-react';import{STATUS_CONFIG,getClientStatus,getDealStatus}from'../utils/statusUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClientCard=_ref=>{var _client$deals;let{client,onEdit,onToggleBookmark}=_ref;const status=getClientStatus(client);const statusConfig=STATUS_CONFIG[status];const totalPipeline=((_client$deals=client.deals)===null||_client$deals===void 0?void 0:_client$deals.reduce((sum,deal)=>sum+(deal.status!=='closed_lost'?deal.value:0),0))||0;const handleBookmarkClick=e=>{e.stopPropagation();onToggleBookmark(client.id);};const handleEditClick=e=>{e.stopPropagation();onEdit(client);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-4 rounded-lg shadow-md border-l-4 \".concat(statusConfig.classes,\" hover:shadow-lg transition-shadow\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg truncate\",children:client.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 truncate\",children:client.company||'No Company'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBookmarkClick,className:\"w-8 h-8 rounded-full flex items-center justify-center transition-all \".concat(client.isBookmarked?'text-blue-600 bg-blue-50 hover:bg-blue-100':'text-gray-400 hover:bg-gray-100 hover:text-blue-600'),title:client.isBookmarked?'Remove from bookmarks':'Add to bookmarks',children:client.isBookmarked?/*#__PURE__*/_jsx(BookmarkCheck,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Bookmark,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEditClick,className:\"w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-blue-600 transition-all\",title:\"Edit client\",children:/*#__PURE__*/_jsx(Edit,{className:\"w-5 h-5\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[client.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-4 h-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",title:client.email,children:client.email})]}),client.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{title:client.phone,children:client.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:client.lastContact?\"Last Contact: \".concat(new Date(client.lastContact).toLocaleDateString()):'Not contacted yet'})]}),totalPipeline>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-green-600 font-medium\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Pipeline: $\",totalPipeline.toLocaleString()]})]})]}),client.deals&&client.deals.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-3\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-gray-700 mb-2 flex items-center\",children:[\"Active Deals\",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-0.5 bg-gray-100 rounded-full text-xs text-gray-600\",children:client.deals.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:client.deals.map((deal,index)=>{const dealStatus=getDealStatus(deal);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 rounded-full flex-shrink-0 \".concat(dealStatus.color.replace('text-','bg-'))}),/*#__PURE__*/_jsx(\"span\",{className:\"truncate\",title:deal.title,children:deal.title})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"\".concat(dealStatus.color,\" font-medium ml-2 flex-shrink-0\"),children:[\"$\",deal.value.toLocaleString()]})]},index);})})]}),client.followUpDate&&new Date(client.followUpDate)>new Date()&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex items-center text-sm text-blue-600 bg-blue-50 p-2 rounded-md\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Follow up on \",new Date(client.followUpDate).toLocaleDateString()]})]}),client.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-sm text-gray-600 border-t pt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"line-clamp-3\",title:client.notes,children:client.notes})})]});};export default ClientCard;","map":{"version":3,"names":["React","Calendar","Phone","Mail","DollarSign","AlertCircle","Bookmark","BookmarkCheck","Edit","STATUS_CONFIG","getClientStatus","getDealStatus","jsx","_jsx","jsxs","_jsxs","ClientCard","_ref","_client$deals","client","onEdit","onToggleBookmark","status","statusConfig","totalPipeline","deals","reduce","sum","deal","value","handleBookmarkClick","e","stopPropagation","id","handleEditClick","className","concat","classes","children","name","company","onClick","isBookmarked","title","email","phone","lastContact","Date","toLocaleDateString","toLocaleString","length","map","index","dealStatus","color","replace","followUpDate","notes"],"sources":["C:/Tavant/Tavant/02_Paresh/Fun/SalesSynth/client/src/components/ClientCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Calendar, Phone, Mail, DollarSign, AlertCircle, Bookmark, BookmarkCheck, Edit } from 'lucide-react';\r\nimport { STATUS_CONFIG, getClientStatus, getDealStatus } from '../utils/statusUtils';\r\n\r\nconst ClientCard = ({ client, onEdit, onToggleBookmark }) => {\r\n  const status = getClientStatus(client);\r\n  const statusConfig = STATUS_CONFIG[status];\r\n  const totalPipeline = client.deals?.reduce((sum, deal) => \r\n    sum + (deal.status !== 'closed_lost' ? deal.value : 0), 0) || 0;\r\n\r\n  const handleBookmarkClick = (e) => {\r\n    e.stopPropagation();\r\n    onToggleBookmark(client.id);\r\n  };\r\n\r\n  const handleEditClick = (e) => {\r\n    e.stopPropagation();\r\n    onEdit(client);\r\n  };\r\n\r\n  return (\r\n    <div className={`relative p-4 rounded-lg shadow-md border-l-4 ${statusConfig.classes} hover:shadow-lg transition-shadow`}>\r\n      {/* Header Section */}\r\n      <div className=\"flex justify-between items-start mb-4 gap-4\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <h3 className=\"font-semibold text-lg truncate\">{client.name}</h3>\r\n          <p className=\"text-sm text-gray-600 truncate\">{client.company || 'No Company'}</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n          <button\r\n            onClick={handleBookmarkClick}\r\n            className={`w-8 h-8 rounded-full flex items-center justify-center transition-all ${\r\n              client.isBookmarked \r\n                ? 'text-blue-600 bg-blue-50 hover:bg-blue-100' \r\n                : 'text-gray-400 hover:bg-gray-100 hover:text-blue-600'\r\n            }`}\r\n            title={client.isBookmarked ? 'Remove from bookmarks' : 'Add to bookmarks'}\r\n          >\r\n            {client.isBookmarked ? (\r\n              <BookmarkCheck className=\"w-5 h-5\" />\r\n            ) : (\r\n              <Bookmark className=\"w-5 h-5\" />\r\n            )}\r\n          </button>\r\n          <button \r\n            onClick={handleEditClick}\r\n            className=\"w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-blue-600 transition-all\"\r\n            title=\"Edit client\"\r\n          >\r\n            <Edit className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contact Information */}\r\n      <div className=\"space-y-2 mb-4\">\r\n        {client.email && (\r\n          <div className=\"flex items-center text-sm text-gray-600\">\r\n            <Mail className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n            <span className=\"truncate\" title={client.email}>{client.email}</span>\r\n          </div>\r\n        )}\r\n        {client.phone && (\r\n          <div className=\"flex items-center text-sm text-gray-600\">\r\n            <Phone className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n            <span title={client.phone}>{client.phone}</span>\r\n          </div>\r\n        )}\r\n        <div className=\"flex items-center text-sm text-gray-600\">\r\n          <Calendar className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n          <span>\r\n            {client.lastContact \r\n              ? `Last Contact: ${new Date(client.lastContact).toLocaleDateString()}`\r\n              : 'Not contacted yet'}\r\n          </span>\r\n        </div>\r\n        {totalPipeline > 0 && (\r\n          <div className=\"flex items-center text-sm text-green-600 font-medium\">\r\n            <DollarSign className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n            <span>Pipeline: ${totalPipeline.toLocaleString()}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Deals Section */}\r\n      {client.deals && client.deals.length > 0 && (\r\n        <div className=\"border-t pt-3\">\r\n          <h4 className=\"text-sm font-medium text-gray-700 mb-2 flex items-center\">\r\n            Active Deals\r\n            <span className=\"ml-2 px-2 py-0.5 bg-gray-100 rounded-full text-xs text-gray-600\">\r\n              {client.deals.length}\r\n            </span>\r\n          </h4>\r\n          <div className=\"space-y-2\">\r\n            {client.deals.map((deal, index) => {\r\n              const dealStatus = getDealStatus(deal);\r\n              return (\r\n                <div key={index} className=\"flex items-center justify-between text-sm\">\r\n                  <div className=\"flex items-center space-x-2 flex-1 min-w-0\">\r\n                    <span \r\n                      className={`w-2 h-2 rounded-full flex-shrink-0 ${\r\n                        dealStatus.color.replace('text-', 'bg-')\r\n                      }`} \r\n                    />\r\n                    <span className=\"truncate\" title={deal.title}>{deal.title}</span>\r\n                  </div>\r\n                  <span className={`${dealStatus.color} font-medium ml-2 flex-shrink-0`}>\r\n                    ${deal.value.toLocaleString()}\r\n                  </span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Follow-up Alert */}\r\n      {client.followUpDate && new Date(client.followUpDate) > new Date() && (\r\n        <div className=\"mt-3 flex items-center text-sm text-blue-600 bg-blue-50 p-2 rounded-md\">\r\n          <AlertCircle className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n          <span>Follow up on {new Date(client.followUpDate).toLocaleDateString()}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Notes Section */}\r\n      {client.notes && (\r\n        <div className=\"mt-3 text-sm text-gray-600 border-t pt-3\">\r\n          <div className=\"line-clamp-3\" title={client.notes}>\r\n            {client.notes}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}